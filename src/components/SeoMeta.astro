---
import type { Locale } from '../i18n/config'
import { LOCALE_TAG_MAP } from '../i18n/config'
import CanonicalLink from './CanonicalLink.astro'
import HreflangLinks from './HreflangLinks.astro'

const {
  lang, title, description, path, siteOrigin, og
} = Astro.props as {
  lang: Locale
  title: string
  description: string
  path: string
  siteOrigin: string
  og?: { title?: string; description?: string; image?: string }
}

const ogTitle = og?.title ?? title
const ogDesc  = og?.description ?? description
const ogImage = og?.image ?? `${siteOrigin}/og/default.png`
const url     = `${siteOrigin}${path}`
---
<title>{title} Â· QuizyParty</title>
<meta name="description" content={description} />

<CanonicalLink lang={lang} path={path} siteOrigin={siteOrigin} />
<HreflangLinks path={path} siteOrigin={siteOrigin} />

<!-- Open Graph -->
<meta property="og:type" content="website" />
<meta property="og:title" content={ogTitle} />
<meta property="og:description" content={ogDesc} />
<meta property="og:image" content={ogImage} />
<meta property="og:url" content={url} />
<meta property="og:site_name" content="QuizyParty" />
<meta property="og:locale" content={(LOCALE_TAG_MAP as any)[lang] || 'en_US'} />

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content={ogTitle} />
<meta name="twitter:description" content={ogDesc} />
<meta name="twitter:image" content={ogImage} />


